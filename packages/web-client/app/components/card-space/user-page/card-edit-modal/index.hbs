<Boxel::Modal
  @isOpen={{this.isEditing}}
  @onClose={{this.close}}
  @size={{or @size "medium"}}
  data-test-card-space-card-edit-modal
>
  <Boxel::CardContainer>
    <:header>
      {{@header}}
    </:header>
    <:default>
      <div class="card-space-user-page__edit-modal-body" data-test-card-space-card-edit-modal-body>
        {{#if @title}}
          <CardSpace::UserPage::CardTitle
            data-test-card-space-card-edit-modal-title
          >
            {{@title}}
          </CardSpace::UserPage::CardTitle>
        {{/if}}
        {{yield}}

        <div class="card-space-user-page__edit-modal-footer">
          {{#if (has-block "error")}}
            <div class="card-space-user-page__edit-modal-error-message">
              {{yield (component "common/error-message") to="error"}}
            </div>
          {{/if}}
          <div class="card-space-user-page__edit-modal-footer-buttons">
            {{#unless this.isSubmitting}}
              <Boxel::Button
                @kind="secondary-light"
                data-test-card-space-card-edit-modal-cancel-button
                {{on "click" this.close}}
              >
                Cancel
              </Boxel::Button>
            {{/unless}}
            <Boxel::Button
              @loading={{this.isSubmitting}}
              @disabled={{@disabled}}
              @kind="primary"
              data-test-card-space-card-edit-modal-save-button
              {{on "click" this.save}}
            >
              Save
            </Boxel::Button>
          </div>
        </div>
      </div>
    </:default>
  </Boxel::CardContainer>
</Boxel::Modal>