<CardPay::LabeledValue
  @fieldMode='edit'
  @label='Category'
  data-test-card-space-category-field
>
  <div data-test-category-options>
    {{#each this.options as |option|}}
      {{#let (eq this.categoryValue option) as |checked|}}
        <Common::RadioOption
          @name='category'
          @checked={{checked}}
          @onInput={{fn this.setCategoryValue option}}
          class='card-space-category-field__option'
          data-test-category-option
        >
          {{option}}
        </Common::RadioOption>
      {{/let}}
    {{/each}}
    <Common::RadioOption
      @name='category'
      @checked={{this.otherIsChecked}}
      @onInput={{fn this.setCategoryValue this.otherValue}}
      class='card-space-category-field__option'
      data-test-category-option
    >
      <span class='card-space-category-field__other-container'>
        Other:

        <Common::ValidationStateInput
          class='card-space-category-field__other'
          @state={{this.categoryValidationState}}
          @value={{readonly this.otherValue}}
          @onInput={{this.onOtherValueInput}}
          @errorMessage={{this.categoryValidationMessage}}
          {{!-- FIXME length? --}}
          {{on 'blur' this.validateCategory}}
          data-test-category-option-other
        />
      </span>
    </Common::RadioOption>
  </div>
</CardPay::LabeledValue>
