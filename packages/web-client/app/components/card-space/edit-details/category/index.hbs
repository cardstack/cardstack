<CardPay::LabeledValue
  @label='Category'
  data-test-card-space-category-field
>
  <div data-test-category-options>
    {{#each this.options as |option|}}
      {{#let (eq this.categoryValue option) as |checked|}}
        <Common::RadioOption
          @name='category'
          @checked={{checked}}
          @onInput={{fn this.setCategoryValue option}}
          class='card-space-category-field__option'
          data-test-category-option
        >
          {{option}}
        </Common::RadioOption>
      {{/let}}
    {{/each}}
    <Common::RadioOption
      @name='category'
      @checked={{this.otherIsChecked}}
      @onInput={{fn this.setCategoryValue this.otherValue}}
      {{on 'click' this.focusOtherValueInput}}
      class='card-space-category-field__option card-space-category-field__other-container'
      data-test-category-option
    >
      <span class='card-space-category-field__other-label'>Other:</span>
      <Common::ValidationStateInput
        class='card-space-category-field__other'
        @state={{this.categoryValidationState}}
        @value={{readonly this.otherValue}}
        @onInput={{this.onOtherValueInput}}
        @errorMessage={{this.categoryValidationMessage}}
        {{on 'blur' (perform this.validateCategoryTask)}}
        {{did-insert this.storeOtherValueInput}}
        data-test-category-option-other
      />
    </Common::RadioOption>
  </div>
</CardPay::LabeledValue>
