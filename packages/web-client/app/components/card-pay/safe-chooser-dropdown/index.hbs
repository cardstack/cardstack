{{! @glint-nocheck: not typesafe yet }}
<div class="safe-chooser-dropdown" ...attributes>
  {{#let (or @selectedSafe @safes.firstObject) as |selectedSafe|}}
    <Boxel::Select
      @options={{@safes}}
      @selected={{selectedSafe}}
      @onChange={{@onChooseSafe}}
      @renderInPlace={{true}}
      @verticalPosition='below'
      data-test-safe-chooser-dropdown
      as |safe|
    >
      <CardPay::SafeChooserDropdown::SafeOption
          class={{cn
          'safe-chooser-dropdown__option'
          safe-chooser-dropdown__option--selected=(eq
            safe.address selectedSafe.address
          )
        }}
        @safe={{safe}}
        @showSafeId={{@showSafeId}}
      />
    </Boxel::Select>
  {{/let}}
</div>