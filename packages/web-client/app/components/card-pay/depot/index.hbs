<section class="card-pay-depot" data-test-card-pay-depot>
  <header class="card-pay-depot__header" data-test-card-pay-depot-header>
    <div class="card-pay-depot__network">
      On {{network-display-info "layer2" "fullName"}}
    </div>
    <div class="card-pay-depot__address">
      {{truncate-middle @address}}
    </div>
  </header>
  <section class="card-pay-depot__body">
    <h3 class="card-pay-depot__title">Depot</h3>
    <h4 class="card-pay-depot__balances-title">
      <div>
        Layer 2 Balances
        <span class="card-pay-depot__balances-num" data-test-card-pay-depot-token-count>
          {{@tokens.length}}
        </span>
      </div>
      <div class="card-pay-depot__balances-num" data-test-card-pay-depot-usd-total>
        {{format-usd @usdBalanceTotal}}
      </div>
    </h4>
    <div class="card-pay-depot__balances-grid">
      {{#each @tokens as |t|}}
        <div class="card-pay-depot__token" data-test-card-pay-depot-token={{t.symbol}}>
          <CardPay::BalanceDisplay
            class="card-pay-depot__token-balance-display"
            @icon={{t.icon}}
            @balance={{format-wei-amount t.balance}}
            @symbol={{t.symbol}}
            @usdBalance={{token-to-usd t.symbol t.balance}}
          />
          <div>
            <Boxel::Button
              {{on "click" @withdraw}}
              @kind="primary"
              @size="small"
              data-test-workflow-button="withdrawal"
            >
              <span>Withdraw</span>
            </Boxel::Button>
          </div>
        </div>
      {{/each}}
    </div>
  </section>
</section>