<ActionCardContainer
  @header="Prepaid card preview"
  @isComplete={{@isComplete}}
  data-test-layout-customization-is-complete={{@isComplete}} {{!-- TODO copypaste error? ðŸ¤” --}}
>
  <ActionCardContainer::Section
    @title="Prepaid card preview"
  >
    <div class="preview__content" data-test-preview>
      <Boxel::Field
        @label="Card Preview"
        @fieldMode="view"
        class="preview__card-preview-field"
      >
        <div class="preview__card">
          <CardPay::PrepaidCard
            @issuerName={{@workflowSession.state.issuerName}}
            @headerBackground={{@workflowSession.state.headerBackground.id}}
            @headerTheme={{@workflowSession.state.headerTheme.id}}
            @balance={{@workflowSession.state.spendFaceValue}}
            @usdBalance={{spend-to-usd @workflowSession.state.spendFaceValue}}
            @address="0x1234...abcd"
            @network="xDai Chain"
          />
        </div>
      </Boxel::Field>
      <CardPay::FieldStack class="preview__data">
        <CardPay::LabeledValue
          @vertical={{true}}
          @label="Issued by"
          @value={{@workflowSession.state.issuerName}}
          data-test-prepaid-card-issuer-name-labeled-value
        />
        <CardPay::LabeledValue
          @vertical={{true}}
          @label="Face value"
          data-test-prepaid-card-face-value-labeled-value
        >
          <CardPay::BalanceDisplay
            class="preview__spend-face-value"
            @icon="spend"
            @sign="Â§"
            @symbol="SPEND"
            @balance={{@workflowSession.state.spendFaceValue}}
            @usdBalance={{spend-to-usd @workflowSession.state.spendFaceValue}}
          />
        </CardPay::LabeledValue>

        {{#if @isComplete}}
          <CardPay::LabeledValue
            @vertical={{true}}
            @label="Card address"
            @value={{@workflowSession.state.prepaidCardAddress}}
            data-test-prepaid-card-address-labeled-value
          />
        {{/if}}
      </CardPay::FieldStack>
    </div>
  </ActionCardContainer::Section>
  <Boxel::ActionChin
    @state={{if @isComplete "memorialized" "default"}}
    @disabled={{@frozen}}
    data-test-layout-customization
  >
    <:default as |d|>
      <d.ActionButton
        {{on "click" this.issue}}
      >
        Continue
      </d.ActionButton>
    </:default>
    <:memorialized as |m|>
      <m.ActionStatusArea>
        Confirmed
      </m.ActionStatusArea>
    </:memorialized>
  </Boxel::ActionChin>
</ActionCardContainer>