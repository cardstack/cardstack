<ActionCardContainer
  @header={{this.header}}
  @isComplete={{@isComplete}}
>
  <ActionCardContainer::Section
    @title="Sufficient funds for claiming withdrawn tokens"
    class="withdrawal-workflow-check-balance__display-box"
  >
    <ActionCardContainer::Section>
      <CardPay::LabeledValue
        @label={{concat 'CURRENT ' (uppercase (network-display-info "layer1" "conversationalName")) ' BALANCE:'}}
        class="withdrawal-workflow-check-balance__labeled-value"
      >
        <CardPay::NestedItems class="withdrawal-workflow-check-balance__details">
          <:outer>
            <CardPay::AccountDisplay
              @size="small"
              @name="Account:"
              @address={{truncate-middle this.layer1Network.walletInfo.firstAddress}}
              data-test-balance-view-account-address
            />
          </:outer>
          <:inner>
            <div class="withdrawal-workflow-check-balance__sufficient-balance-container">
              <CardPay::BalanceDisplay
                @size="large"
                @icon={{this.nativeTokenDisplayInfo.icon}}
                @balance={{format-token-amount this.layer1Network.defaultTokenBalance}}
                @symbol={{this.nativeTokenDisplayInfo.symbol}}
                class="withdrawal-workflow-check-balance__sufficient-balance"
              />
              {{svg-jar "success" class="withdrawal-workflow-check-balance__sufficient-icon" width="20" height="20" role="presentation"}}
            </div>
          </:inner>
        </CardPay::NestedItems>
      </CardPay::LabeledValue>
    </ActionCardContainer::Section>
    <ActionCardContainer::Section>
      <CardPay::LabeledValue
        @label="FUNDS NEEDED FOR TRANSACTION:"
        class="withdrawal-workflow-check-balance__labeled-value"
      >
        <CardPay::BalanceDisplay
          @size="large"
          @icon={{this.nativeTokenDisplayInfo.icon}}
          @balance={{format-token-amount this.minimumBalanceForWithdrawalClaim}}
          @symbol={{this.nativeTokenDisplayInfo.symbol}}
        />
      </CardPay::LabeledValue>
    </ActionCardContainer::Section>
  </ActionCardContainer::Section>
  <div class="withdrawal-workflow-check-balance__disclaimer">
    * The actual value depends on the current exchange rate and is
    determined at the time of authorization.
  </div>
  <Boxel::ActionChin
    @state={{if @isComplete "memorialized" "default"}}
    @disabled={{true}}
  >
    <:default>
      TODO
    </:default>
    <:memorialized as |m|>
      <m.ActionStatusArea class="withdrawal-workflow-check-balance__passed-status" @icon={{this.walletProvider.iconName}} style={{css-var status-icon-size="2.5rem"}}>
        <div class="withdrawal-workflow-check-balance__passed-status-message">
          Passed the check for {{this.nativeTokenDisplayInfo.symbol}} balance on
          {{network-display-info "layer1" "fullName"}} for claim step
        </div>
      </m.ActionStatusArea>
      <m.InfoArea>
        Only visible to you
      </m.InfoArea>
    </:memorialized>
  </Boxel::ActionChin>
</ActionCardContainer>