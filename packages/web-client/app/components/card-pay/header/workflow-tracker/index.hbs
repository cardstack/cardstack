<Boxel::Button
  @kind='primary'
  {{on 'click' (toggle 'showing' this)}}
  data-test-workflow-tracker-toggle
>
  {{svg-jar 'task-active' class='workflow-tracker__toggle-icon'}}
  {{this.activeWorkflows.length}}
</Boxel::Button>

{{#if this.showing}}
  <aside class='workflow-tracker__list'>
    <heading class='workflow-tracker__heading'>
      {{svg-jar 'task-active' class='workflow-tracker__heading-icon'}}
      Active workflows
      <span
        class='workflow-tracker__count'
        data-test-active-workflow-count
      >
        {{this.activeWorkflows.length}}
      </span>
    </heading>
    <ul>
      {{#each this.activeWorkflows as |workflow|}}
        <li data-test-active-workflow>
          <CardPay::Header::WorkflowTracker::Item @workflow={{workflow}} />
        </li>
      {{/each}}
    </ul>
    <heading class='workflow-tracker__heading'>
      {{svg-jar 'task-completed' class='workflow-tracker__heading-icon'}}
      Completed workflows
      <span
        class='workflow-tracker__count'
        data-test-completed-workflow-count
      >
        {{this.completedWorkflows.length}}
      </span>
    </heading>
    <ul>
      {{#each this.completedWorkflows as |workflow|}}
        <li data-test-completed-workflow>
          <CardPay::Header::WorkflowTracker::Item @workflow={{workflow}} />
        </li>
      {{/each}}
    </ul>
    <Boxel::Button
      @kind='secondary-dark'
      {{on 'click' this.clearCompletedWorkflows}}
      data-test-workflow-tracker-clear-completed
    >
      Clear Completed
    </Boxel::Button>
  </aside>
{{/if}}