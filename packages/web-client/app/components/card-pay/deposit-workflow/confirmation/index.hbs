<ActionCardContainer
  @header="Confirmation"
  @isComplete={{@isComplete}}
  class="card-pay-confirmation"
>
  <ActionCardContainer::Section @title="You deposited">
    <Boxel::CardContainer @displayBoundaries={{true}} class="card-pay-confirmation__transfer-info">
      <div class="card-pay-confirmation__transfer-network">
        <span class="card-pay-confirmation__transfer-network-name">{{this.layer1Network.chainName}}</span>
        <Boxel::Button @as="anchor" @size="extra-small" href={{this.depositTxnViewerUrl}} target="_blank" rel="noopener">
          View on Etherscan
        </Boxel::Button>
      </div>
      <div class="card-pay-confirmation__transaction">
        <div class="card-pay-confirmation__transaction-amount">
          {{svg-jar this.depositedToken.icon class="card-pay-confirmation__transaction-token-icon"}}
          <div class="card-pay-confirmation__transaction-balance">
            {{format-token-amount this.depositedAmount}} {{this.depositedToken.symbol}}
          </div>
        </div>
        <div class="card-pay-confirmation__transaction-preposition">
          from
        </div>
        <div class="card-pay-confirmation__transaction-wallet">
          {{this.layer1Network.chainName}} wallet
        </div>
        <div class="card-pay-confirmation__transaction-address">
          {{this.layer1Network.walletInfo.firstAddress}}
        </div>
      </div>
    </Boxel::CardContainer>
    {{svg-jar "arrow" class="card-pay-confirmation__down-arrow"}}
    <p class="card-pay-confirmation__action-taken">
      {{svg-jar "lock-wide" class="card-pay-confirmation__action-taken-icon"}}
      Locked in CARD Protocol reserve pool
    </p>
  </ActionCardContainer::Section>
</ActionCardContainer>
<div class="card-pay-confirmation__bridge-container">
  <div class="card-pay-confirmation__bridge-inner">
    Bridge
    <Boxel::Button @as="anchor" @size="extra-small" href={{this.bridgeExplorerUrl}} target="_blank" rel="noopener" class="card-pay-confirmation__bridge-inner-button">
      View in Bridge Explorer
    </Boxel::Button>
  </div>
</div>
<ActionCardContainer
  @header="Confirmation"
  @suppressHeader={{true}}
  @isComplete={{@isComplete}}
  class="card-pay-confirmation"
>
  <ActionCardContainer::Section @title="You received">
    <p class="card-pay-confirmation__action-taken">
      {{svg-jar "coins" class="card-pay-confirmation__action-taken-icon"}}
      Minted from CARD Protocol on {{this.layer2Network.chainName}}
    </p>
    {{svg-jar "arrow" class="card-pay-confirmation__down-arrow"}}
    <Boxel::CardContainer @displayBoundaries={{true}} class="card-pay-confirmation__transfer-info">
      <div class="card-pay-confirmation__transfer-network">
        <span class="card-pay-confirmation__transfer-network-name">{{this.layer2Network.chainName}} wallet</span>
        <Boxel::Button @as="anchor" @size="extra-small" href={{this.blockscoutUrl}} target="_blank" rel="noopener">
          View on Blockscout
        </Boxel::Button>
      </div>
      <div class="card-pay-confirmation__transaction">
        <div class="card-pay-confirmation__transaction-amount">
          {{svg-jar this.depositedToken.icon class="card-pay-confirmation__transaction-token-icon"}}
          <div class="card-pay-confirmation__transaction-balance">
            {{format-token-amount this.depositedAmount}} {{this.depositedToken.symbol}}.CPXD
          </div>
        </div>
        <div class="card-pay-confirmation__transaction-preposition">
          in
        </div>
        <div class="card-pay-confirmation__transaction-wallet">
          {{this.layer2Network.chainName}} wallet
        </div>
        <CardPay::NestedItems class="card-pay-confirmation__transaction-depot">
          <:outer>
            <div class="card-pay-confirmation__entity-details">
              {{svg-jar "avatar-default" width="20" height="20" class="card-pay-confirmation__entity-icon" role="presentation"}}
              <div>
                <div class="card-pay-confirmation__entity-text">Account 1</div>
                <div class="card-pay-confirmation__entity-address" data-test-deposit-confirmation-account-address>
                  {{truncate-middle this.layer2Network.walletInfo.firstAddress}}
                </div>
              </div>
            </div>
          </:outer>
          <:inner>
            <div class="card-pay-confirmation__entity-details">
              {{svg-jar "depot" class="card-pay-confirmation__entity-icon" role="presentation"}}
              <div>
                <div class="card-pay-confirmation__entity-text">DEPOT:</div>
                <div class="card-pay-confirmation__entity-address" data-test-deposit-confirmation-depot-address>
                  {{#if this.depotAddress}}
                    {{truncate-middle this.depotAddress}}
                  {{else}}
                    {{!--
                      This depot is fetched earlier in the workflow.
                      If it isn't present and we got this far, it's because the
                      user created a new repo. That's why we don't show a loading indicator here.
                      This might change in the future if we fetch the depot address in this component
                    --}}
                    <div class="card-pay-confirmation__new-depot-message">
                      New Depot
                    </div>
                  {{/if}}
                </div>
              </div>
            </div>
          </:inner>
        </CardPay::NestedItems>
      </div>
    </Boxel::CardContainer>
  </ActionCardContainer::Section>
</ActionCardContainer>