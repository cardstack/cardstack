<Boxel::CardContainer
  class="card-pay-workflow-connect-layer-one"
  data-test-mainnnet-connection-action-container
>
<Boxel::Header
  @header="Wallet Connection - Ethereum Mainnet"
/>
<section class="card-pay-workflow-connect-layer-one__body">
  {{#if (eq this.cardState 'memorialized')}}
    <header aria-label="Layer 1 Connected Header" class="card-pay-workflow-connect-layer-one__body-header">
      {{this.currentWalletProvider.name}}
      <img class="card-pay-workflow-connect-layer-one__body-header-logo" src={{this.currentWalletProvider.logo}} alt="" role="presentation">
    </header>
    Network: {{this.layer1Network.chainName}} <br>
    Address: {{this.layer1Network.walletInfo.firstAddress}} <br>
    ETH Balance: <span data-test-eth-balance>{{format-token-amount this.layer1Network.defaultTokenBalance}}</span><br>
    DAI Balance: <span data-test-dai-balance>{{format-token-amount this.layer1Network.daiBalance}}</span> <br>
    CARD Balance: <span data-test-card-balance>{{format-token-amount this.layer1Network.cardBalance}}</span> <br>
    Status: {{if this.layer1Network.isConnected 'Connected' 'Disconnected'}} <br>
  {{else}}
    <header aria-label="Layer 1 Connection Header" class="card-pay-workflow-connect-layer-one__body-header">Connect your Ethereum mainnet wallet</header>
    <CardPay::LayerOneWalletProviderSelection
      @walletProviders={{this.walletProviders}}
      @currentWalletProviderId={{this.currentWalletProviderId}}
      @changeWalletProvider={{this.changeWalletProvider}}
      @isConnecting={{this.isWaitingForConnection}}
      class="card-pay-workflow-connect-layer-one__wallet-provider-selection"
    />
  {{/if}}
</section>
<Boxel::CtaBlock @state={{this.cardState}}>
  <:default as |a|>
    <a.ActionButton {{on "click" this.connect}}>
      Connect Wallet
    </a.ActionButton>
  </:default>
  <:in-progress as |i|>
    <i.ActionButton>
      Connecting
    </i.ActionButton>
    <i.CancelButton {{on "click" this.cancelConnection}}>
      Cancel
    </i.CancelButton>
  </:in-progress>
  <:memorialized as |m|>
    <m.ActionButton {{on "click" this.disconnect}}>
      Disconnect Wallet
    </m.ActionButton>
  </:memorialized>
</Boxel::CtaBlock>
</Boxel::CardContainer>

{{#if this.isWaitingForConnection}}
  <Boxel::CardContainer class="card-pay-workflow-connect-layer-one__connection">
    <div class="card-pay-workflow-connect-layer-one__connection-icons">
      <img src={{this.cardstackLogo}} alt="" role="presentation" class="card-pay-workflow-connect-layer-one__connection-cardstack-logo">
      <img src={{this.connectionSymbol}} alt="" role="presentation" class="card-pay-workflow-connect-layer-one__connection-symbol">
      <img src={{this.currentWalletLogo}} alt="" role="presentation" class="card-pay-workflow-connect-layer-one__connection-wallet-logo">
    </div>
    <div class="card-pay-workflow-connet-layer-one__connection-text">Waiting for you to connect Card Pay with your mainnet wallet...</div>
  </Boxel::CardContainer>
{{/if}}