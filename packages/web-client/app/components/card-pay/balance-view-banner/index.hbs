<details class={{cn "balance-view-banner" balance-view-banner--with-depot=@depotAddress}} ...attributes>
  <summary class="balance-view-banner__summary">
    <CardPay::BalanceDisplay
      class="balance-view-banner__summary-content"
      @size="small"
      @name={{@wallet}}
      @balance={{@balance}}
      @symbol={{@token.symbol}}
      data-test-balance-view-summary
    />
    <div class="balance-view-banner__marker">
      {{svg-jar "caret-right" class="balance-view-banner__marker-icon" role="presentation"}}
    </div>
  </summary>
  <div class="balance-view-banner__details">
    <CardPay::AccountDisplay @name={{@wallet}} />
    <CardPay::NestedItems
      @noIndent={{unless @depotAddress true}}
      @noBorder={{unless @depotAddress true}}
    >
      <:outer>
        <CardPay::AccountDisplay
          @size={{if @depotAddress "small"}}
          @address={{@address}}
          data-test-balance-view-account-address
        />
      </:outer>
      <:inner>
        {{#if @depotAddress}}
          <CardPay::AccountDisplay
            @size="small"
            @icon="depot"
            @name="DEPOT:"
            @address={{@depotAddress}}
            data-test-balance-view-depot-address
          />
        {{/if}}
      </:inner>
      <:innermost>
        <CardPay::BalanceDisplay
          @size="large"
          @icon={{@token.icon}}
          @balance={{@balance}}
          @symbol={{@token.symbol}}
          @usdBalance={{@usdBalance}}
          data-test-balance-view-token-amount
        />
      </:innermost>
    </CardPay::NestedItems>
  </div>
</details>