{{#let (or @tag "div") as |tag|}}
  {{#let (element tag) as |Tag|}}
    <Tag
      class={{cn "boxel-field"
        boxel-field--vertical=(or @vertical @centeredDisplay)
        boxel-field--horizontal=(not (or @vertical @centeredDisplay))
        boxel-field--small-label=(eq @horizontalLabelSize "small")
        boxel-field--centered-display=@centeredDisplay
      }}
      data-test-boxel-field
      data-test-boxel-field-id={{@fieldId}}
      ...attributes
    >
      <div class="boxel-field__label" data-test-boxel-field-label>
        {{@label}}
      </div>

      {{#if @icon}}
        <div class="boxel-field--with-icon">
          {{svg-jar @icon class="boxel-field__icon" role="presentation"}}
          <div class="boxel-field__yield--with-icon">
            {{yield}}
          </div>
        </div>
      {{else}}
        {{yield}}
      {{/if}}
    </Tag>
  {{/let}}
{{/let}}