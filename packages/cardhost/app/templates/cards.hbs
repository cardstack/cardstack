{{#let this.target.currentRoute.localName as |mode|}}
  <div class="
    cardhost-cards
    {{mode}}
    {{if (or (eq mode "add") (eq mode "adopt")) "schema"}}
    {{if this.cardstackSession.isAuthenticated "logged-in" "logged-out"}}
    {{this.themerClasses}}"
    data-test-cardhost-cards>
    {{#if (not this.cssModeToggle.editingCss)}}
      {{!-- <CardhostTopEdge @mode={{mode}}>
        {{#if (or (eq mode "schema") (eq mode "edit") (eq mode "view"))}}
          <ViewSwitcher @mode={{mode}} @card={{this.target.currentRoute.parent.attributes}} />
        {{/if}}
      </CardhostTopEdge> --}}


      {{!-- {{cardstack-edge "left" (component "cardhost-left-edge")}} --}}

      <CardstackEdge @edge="top" @componentToShow={{component "cardhost-top-edge" mode=mode}}>
        <InTopToolbar>{{!-- TODO: This shouldn't be necessary --}}
          {{!-- TODO: Display view switcher --}}
          {{#if (or (eq mode "schema") (eq mode "edit") (eq mode "view"))}}
            <ViewSwitcher @mode={{mode}} @card={{this.target.currentRoute.parent.attributes}} />
          {{/if}}
        </InTopToolbar>
      </CardstackEdge>
    {{/if}}

    {{outlet}}
  </div>
{{/let}}