<div class="cardhost-top-edge {{@mode}}" data-test-cardhost-top-edge>
  {{#if (or (eq @mode "layout") (eq @mode "fields"))}}
    <div class="card-renderer--top-edge-preview-button {{if (eq @mode "fields") "hidden"}}" data-test-top-edge-preview-link>
      {{!-- TODO: Make this navigate to Preview route --}}
      <LinkTo
        @route="cards.card.view"
        @model={{@card}}
        @class="preview-link cs-component-cta primary secondary cs-dark"
        data-test-preview-link-btn
      >
        Preview
      </LinkTo>
    </div>
    <div class="view-selector" data-test-view-selector>
      <LinkTo
        @route="cards.card.edit.layout"
        @class="view-selector--mode-link"
        @model={{@card}}
        data-test-view-selector="layout"
      >
        {{svg-jar "layout" width="18px" height="17px"}}
        Layout
      </LinkTo>
      <LinkTo
        @route="cards.card.edit.fields"
        @class="view-selector--mode-link"
        @model={{@card}}
        data-test-view-selector="fields"
      >
        {{svg-jar "form" width="19px" height="15px"}}
        Field
      </LinkTo>
    </div>
    <div class="card-renderer--top-edge-size-buttons {{if (eq @mode "fields") "hidden"}}" data-test-top-edge-size-buttons>
      <button
        class="ch-button ch-button--icon card-size-btn {{if (eq this.cssModeToggle.width "small") "selected"}}"
        {{on "click" (fn this.cssModeToggle.setWidth "small")}}
        aria-label="Show the card in small size"
        data-test-small-btn
      >
        S
      </button>
      <button
        class="ch-button ch-button--icon card-size-btn {{if (eq this.cssModeToggle.width "medium") "selected"}}"
        {{on "click" (fn this.cssModeToggle.setWidth "medium")}}
        aria-label="Show the card in medium size"
        data-test-medium-btn
      >
        M
      </button>
      <button
        class="ch-button ch-button--icon card-size-btn {{if (eq this.cssModeToggle.width "large") "selected"}}"
        {{on "click" (fn this.cssModeToggle.setWidth "large")}}
        aria-label="Show the card in full width size"
        data-test-large-btn
      >
        L
      </button>
    </div>
    <div class="card-renderer--top-edge-buttons">
      <ModeIndicator
        @card={{@card}}
        @route="cards.card.view"
        @mode="edit"
        @linkTo="view" />
      <SaveButton @card={{@card}} />
      {{!-- TODO: Make this open the Actions menu --}}
      <Cta @variant="primary" class="edge-actions-button" aria-label="Display actions menu" data-test-edge-actions-btn>
        {{svg-jar "actions" width="16px" height="16px"}}
      </Cta>
    </div>
  {{/if}}

  {{yield}}
</div>