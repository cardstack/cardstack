<div class="card-renderer--top-edge-buttons">
  {{#if this.cssModeToggle.editingCss}}
    <div
      class="dock-btn {{if (eq this.cssModeToggle.dockLocation "bottom") "selected"}}" {{on "click" this.cssModeToggle.dockBottom}}
      data-test-dock-bottom
    >
      {{svg-jar "dock-bottom"}}
    </div>
    <div
      class="dock-btn {{if (eq this.cssModeToggle.dockLocation "right") "selected"}}" {{on "click" this.cssModeToggle.dockRight}}
      data-test-dock-right
    >
      {{svg-jar "dock-right"}}
    </div>
    <button {{on "click" this.closeEditor}}
      class="ch-button close-editor-btn"
      data-test-close-editor
    >
      Close Editor
    </button>

  {{else}}
    {{! eslint is confused by on helper }}
    {{! template-lint-disable attribute-indentation}}
    <button
      class="ch-button ch-button--icon share"
      aria-label="Share button"
    >
    </button>
    <button
      class="ch-button ch-button--secondary"
      disabled={{not this.cardstackSession.isAuthenticated}}
    >
      Preview
    </button>
    <button
      class="ch-button"
      disabled={{not this.cardstackSession.isAuthenticated}}
      {{on "click" this.save}}
    >
      Save
    </button>
  {{/if}}
</div>

{{#unless this.cssModeToggle.editingCss}}
  <CardhostLeftEdge />
{{/unless}}

<section class="card-view" data-test-card-view={{this.model.name}}>
  <CardRenderer
    @card={{this.model}}
    @format="isolated"
  />
</section>

<section class="cardhost-card-document">
  <h3>Card Document</h3>
  <CodeEditor
    @code={{this.cardJson}}
    @language="json"
  />
</section>


{{#if this.cssModeToggle.editingCss}}
  <EditorPane data-test-dock-location={{this.cssModeToggle.dockLocation}}
    @model={{this.model}}
    @saveCss={{this.saveCss}}
  />
{{else}}
  <RightEdge
    @card={{this.card}}
  >
    <div class="right-edge--section">
      <div class="right-edge--section-header" data-test-section-header>
        Appearance
      </div>
      <div class="right-edge--item">
        <Dropdown
          @theme="dark"
          @searchEnabled={{false}}
          @label="Choose a theme:"
          @options={{this.themerOptions}}
          {{!-- @handleChange={{this.handleThemeChange}} --}}
        />
        <button {{on "click" this.createTheme}}
          class="ch-button ch-button--secondary ch-button--responsive"
          data-test-card-custom-style-button
        >
          New Custom Style
        </button>
      </div>
    </div>
  </RightEdge>
{{/if}}

<style id="card-styles">
  {{scope-css this.model.isolatedCss this.model.name}}
</style>