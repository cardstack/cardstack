<div class="cardhost-top-edge {{@mode}}" data-test-cardhost-top-edge>
  {{#unless (eq @mode "themer")}}
    <div class="cardhost-top-edge__controls cardhost-top-edge__controls--left">
      {{#unless (eq @mode "preview")}}
        <PreviewLinkButton @model={{@card}} class="cardhost-top-edge--preview-button {{if (eq @mode "fields") "hidden"}}" data-test-top-edge-preview-link />
      {{/unless}}
    </div>

    <div class="cardhost-top-edge__controls cardhost-top-edge__controls--center">
      {{#unless (eq @mode "preview")}}
        <div class="view-selector" data-test-view-selector>
          <LinkTo
            @route="cards.card.configure.layout"
            @class="view-selector--mode-link {{if (eq @mode "layout") "active"}}"
            @model={{@card.canonicalURL}}
            data-test-view-selector="layout"
          >
            {{svg-jar "layout" width="18px" height="17px"}}
            Layout
          </LinkTo>
          <LinkTo
            @route="cards.card.configure.fields"
            @class="view-selector--mode-link {{if (eq @mode "fields") "active"}}"
            @model={{@card.canonicalURL}}
            data-test-view-selector="fields"
          >
            {{svg-jar "form" width="19px" height="15px"}}
            Field
          </LinkTo>
        </div>
      {{/unless}}

      <CardSizeToggle class="cardhost-top-edge--size-buttons {{if (eq @mode "fields") "hidden"}}" data-test-top-edge-size-buttons />
    </div>

    <div class="cardhost-top-edge__controls cardhost-top-edge__controls--right">
      {{#if (eq @mode "preview")}}
        <ModeIndicator
          @card={{@card}}
          @route={{if @previousRoute @previousRoute.name "cards.card.configure.layout"}}
          @mode="preview"
          @linkTo={{if @previousRoute "previous" "edit-layout"}} />
      {{else}}
        <ModeIndicator
          @card={{@card}}
          @route={{if @previousRoute @previousRoute.name "cards.card.view"}}
          @mode="configure"
          @linkTo={{if @previousRoute "previous" "view-layout"}} />
      {{/if}}

      <EdgeActionsButton />
    </div>
  {{/unless}}
</div>