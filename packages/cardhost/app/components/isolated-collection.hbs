<div class="isolated-collection__wrapper">
  <div class="isolated-collection">
    <header class="isolated-collection__sticky-header">
      <div class="isolated-collection__title-row">
        <h2 class="isolated-collection__title">{{@title}}</h2>
        <div class="isolated-collection__count">
          <span>{{if @collection.length @collection.length 0}}</span>
          {{#if (eq @collection.length 1)}}Item{{else}}Items{{/if}}
        </div>
      </div>

      <div class="isolated-collection__actions-row">
        {{#if @collection.length}}
          <div class="isolated-collection__pill isolated-collection__select-all {{if this.collection.selectedItemCount "isolated-collection__select-all--selected-items"}}">
            {{#if this.collection.selectedItemCount}}
              {{svg-jar "check-mark" width="9px" height="7px"}}
              {{this.collection.selectedItemCount}} selected
            {{else}}
              Select all
            {{/if}}
          </div>
        {{/if}}
        {{#if this.collection.selectedItemCount}}
          <button class="isolated-collection__pill isolated-collection__pill--dropdown">
            Add to Collection
          </button>
        {{/if}}
        <div class="isolated-collection__btn-group">
        <div class="isolated-collection__btn-trio isolated-collection__filters">
          {{!-- <SortPopup @class="isolated-collection__sort" @sortColumns={{this.sortColumns}} @sortColumn={{this.sortColumn}} @sortDirection={{this.sortDirection}} @sort={{this.sort}}/> --}}
          {{!-- <MediaCollection::Button @class="isolated-collection__filter" @button="filter" @icon="filter">
          </MediaCollection::Button> --}}

          {{#if @search}}
            {{!-- <MediaCollection::Button @class="isolated-collection__search" @button="search" @icon="search">
              <Input @type="search" @class="field-renderer__input isolated-collection__search-input"
                {{on "input" this.search}}
              />
            </MediaCollection::Button> --}}
          {{/if}}
        </div>
        <div class="isolated-collection__btn-trio isolated-collection__view-selectors">
          <button {{on "click" (fn this.changeFormat "list")}} class="isolated-collection__btn list {{if (eq this.format "list") "selected"}}" aria-label="view as list"></button>
          <button {{on "click" (fn this.changeFormat "grid")}} class="isolated-collection__btn grid {{if (eq this.format "grid") "selected"}}" aria-label="view as grid"></button>
          <button {{on "click" (fn this.changeFormat "table")}} class="isolated-collection__btn table {{if (eq this.format "table") "selected"}}" aria-label="view as table"></button>
        </div>
      </div>
      </div>
    </header>

    <div class="isolated-collection__scroll-container">
      <div class="isolated-collection__inner-container">
        <ul class="isolated-collection__grid isolated-collection__grid--{{this.format}}">
          {{#each @collection as |card|}}
            <li class="isolated-collection__grid-item isolated-collection__grid-item--{{this.format}}">
              <CardRenderer
                @card={{card}}
                @format="embedded"
              />
            </li>
          {{/each}}
        </ul>
      </div>
    </div>
  </div>
</div>